# Binance MCP æœåŠ¡å™¨å‡çº§å®Œæˆæ€»ç»“

## ğŸ‰ å‡çº§æˆåŠŸï¼

Binance MCP æœåŠ¡å™¨å·²æˆåŠŸå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶å®ç°äº†æ‰€æœ‰è¦æ±‚çš„åŠŸèƒ½ã€‚

## âœ… å®Œæˆçš„åŠŸèƒ½

### 1. SDK å‡çº§

- **ä»ç‰ˆæœ¬**: `@modelcontextprotocol/sdk@0.5.0`
- **å‡çº§åˆ°**: `@modelcontextprotocol/sdk@1.17.5`
- **æ–°åŠŸèƒ½**: æ”¯æŒ Streamable HTTP å’Œ SSE ä¼ è¾“

### 2. ä¼ è¾“åè®®æ”¯æŒ

- âœ… **Streamable HTTP** (`/mcp`) - ç°ä»£å®¢æˆ·ç«¯æ¨è
- âœ… **SSE** (`/sse`) - å‘åå…¼å®¹æ—§å®¢æˆ·ç«¯
- âœ… **å¥åº·æ£€æŸ¥** (`/health`) - æœåŠ¡çŠ¶æ€ç›‘æ§

### 3. è®¤è¯æœºåˆ¶

- âœ… **è¯·æ±‚å¤´è®¤è¯**: `Authorization: {apiKey}:{secret}`
- âœ… **Bearer Token**: `Authorization: Bearer {apiKey}:{secret}`
- âœ… **ä¼šè¯éš”ç¦»**: æ¯ä¸ªå®¢æˆ·ç«¯ç‹¬ç«‹çš„ Binance å®¢æˆ·ç«¯å®ä¾‹
- âœ… **é”™è¯¯å¤„ç†**: å‹å¥½çš„é”™è¯¯æ¶ˆæ¯å’ŒçŠ¶æ€ç 

### 4. æœåŠ¡å™¨æ¶æ„

- âœ… **Express æ¡†æ¶**: ç°ä»£åŒ–çš„ HTTP æœåŠ¡å™¨
- âœ… **ä¼šè¯ç®¡ç†**: æ”¯æŒå¤šç”¨æˆ·å¹¶å‘è®¿é—®
- âœ… **å·¥å…·æ³¨å†Œ**: é¿å…é‡å¤æ³¨å†Œé”™è¯¯
- âœ… **æ—¥å¿—ç³»ç»Ÿ**: å®Œæ•´çš„æ“ä½œæ—¥å¿—è®°å½•

## ğŸ“ æ–°å¢æ–‡ä»¶

```
src/
â”œâ”€â”€ server.ts              # æ–°çš„æœåŠ¡å™¨å®ç°
scripts/
â”œâ”€â”€ start-server.js        # æœåŠ¡å™¨å¯åŠ¨è„šæœ¬
â”œâ”€â”€ test-server.js         # æµ‹è¯•è„šæœ¬
docs/
â”œâ”€â”€ DEPLOYMENT.md          # éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ USAGE.md              # ä½¿ç”¨ç¤ºä¾‹
```

## ğŸ”§ æ›´æ–°çš„é…ç½®

### package.json

```json
{
  "dependencies": {
    "@modelcontextprotocol/sdk": "^1.17.5",
    "express": "^4.18.2"
  },
  "devDependencies": {
    "@types/express": "^4.17.21",
    "node-fetch": "^3.3.2"
  },
  "scripts": {
    "start:server": "node scripts/start-server.js",
    "dev:server": "tsx src/server.ts",
    "test:server": "node scripts/test-server.js"
  }
}
```

## ğŸš€ å¯åŠ¨æ–¹å¼

### å¼€å‘æ¨¡å¼

```bash
npm run dev:server
```

### ç”Ÿäº§æ¨¡å¼

```bash
npm run build
npm run start:server
```

### æµ‹è¯•

```bash
npm run test:server
```

## ğŸŒ API ç«¯ç‚¹

| ç«¯ç‚¹        | æ–¹æ³• | æè¿°            | è®¤è¯     |
| ----------- | ---- | --------------- | -------- |
| `/health`   | GET  | å¥åº·æ£€æŸ¥        | æ— éœ€è®¤è¯ |
| `/mcp`      | POST | Streamable HTTP | éœ€è¦è®¤è¯ |
| `/sse`      | GET  | SSE è¿æ¥        | éœ€è¦è®¤è¯ |
| `/messages` | POST | SSE æ¶ˆæ¯        | éœ€è¦è®¤è¯ |

## ğŸ” è®¤è¯ç¤ºä¾‹

### ç›´æ¥ Token

```bash
curl -X POST http://localhost:3000/mcp \
  -H "Authorization: your_api_key:your_secret_key" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json, text/event-stream" \
  -d '{"jsonrpc": "2.0", "method": "tools/list", "id": 1}'
```

### Bearer Token

```bash
curl -X POST http://localhost:3000/mcp \
  -H "Authorization: Bearer your_api_key:your_secret_key" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json, text/event-stream" \
  -d '{"jsonrpc": "2.0", "method": "tools/list", "id": 1}'
```

## ğŸ› è§£å†³çš„é—®é¢˜

### 1. å·¥å…·é‡å¤æ³¨å†Œé”™è¯¯

**é—®é¢˜**: `Tool binance_account_info is already registered`
**è§£å†³**: æ·»åŠ äº† `registeredTools` Set æ¥è·Ÿè¸ªå·²æ³¨å†Œçš„å·¥å…·ï¼Œé¿å…é‡å¤æ³¨å†Œ

### 2. API å…¼å®¹æ€§é—®é¢˜

**é—®é¢˜**: æ–°ç‰ˆæœ¬ SDK çš„ API å˜åŒ–
**è§£å†³**: æ›´æ–°äº†å·¥å…·æ³¨å†Œæ–¹å¼ï¼Œä½¿ç”¨ `server.tool()` æ–¹æ³•

### 3. ä¼ è¾“åè®®æ”¯æŒ

**é—®é¢˜**: éœ€è¦æ”¯æŒå¤šç§ä¼ è¾“æ–¹å¼
**è§£å†³**: å®ç°äº† Streamable HTTP å’Œ SSE ä¸¤ç§ä¼ è¾“æ–¹å¼

## ğŸ“Š æµ‹è¯•ç»“æœ

- âœ… æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ
- âœ… å¥åº·æ£€æŸ¥ç«¯ç‚¹æ­£å¸¸
- âœ… è®¤è¯æœºåˆ¶å·¥ä½œæ­£å¸¸
- âœ… å¤šç”¨æˆ·å¹¶å‘è®¿é—®æ­£å¸¸
- âœ… å·¥å…·é‡å¤æ³¨å†Œé—®é¢˜å·²è§£å†³
- âœ… é”™è¯¯å¤„ç†æ­£ç¡®

## ğŸš€ éƒ¨ç½²é€‰é¡¹

### 1. æœ¬åœ°éƒ¨ç½²

```bash
npm run build
npm run start:server
```

### 2. Docker éƒ¨ç½²

```bash
docker build -t binance-mcp-server .
docker run -p 3000:3000 binance-mcp-server
```

### 3. PM2 éƒ¨ç½²

```bash
pm2 start ecosystem.config.js
```

### 4. Docker Compose

```bash
docker-compose up -d
```

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- âœ… **è¯·æ±‚å¤´è®¤è¯**: é€šè¿‡ Authorization å¤´ä¼ é€’ API å¯†é’¥
- âœ… **ä¼šè¯éš”ç¦»**: æ¯ä¸ªå®¢æˆ·ç«¯ç‹¬ç«‹çš„ Binance å®¢æˆ·ç«¯
- âœ… **é”™è¯¯å¤„ç†**: ä¸æ³„éœ²æ•æ„Ÿä¿¡æ¯
- âœ… **æ—¥å¿—è®°å½•**: å®Œæ•´çš„æ“ä½œå®¡è®¡æ—¥å¿—

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- âœ… **ä¼šè¯ç®¡ç†**: é«˜æ•ˆçš„å®¢æˆ·ç«¯å®ä¾‹ç®¡ç†
- âœ… **å·¥å…·ç¼“å­˜**: é¿å…é‡å¤æ³¨å†Œå·¥å…·
- âœ… **é”™è¯¯å¤„ç†**: ä¼˜é›…çš„é”™è¯¯æ¢å¤æœºåˆ¶
- âœ… **æ—¥å¿—ä¼˜åŒ–**: åˆ†çº§æ—¥å¿—è®°å½•

## ğŸ¯ ä½¿ç”¨åœºæ™¯

1. **å¤šç”¨æˆ·æœåŠ¡**: æ¯ä¸ªç”¨æˆ·ä½¿ç”¨è‡ªå·±çš„ Binance API å¯†é’¥
2. **ç°ä»£å®¢æˆ·ç«¯**: æ”¯æŒ Streamable HTTP çš„å®¢æˆ·ç«¯
3. **ä¼ ç»Ÿå®¢æˆ·ç«¯**: æ”¯æŒ SSE çš„æ—§ç‰ˆå®¢æˆ·ç«¯
4. **ç”Ÿäº§ç¯å¢ƒ**: å¯éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„ç”Ÿäº§çº§æœåŠ¡

## ğŸ“š æ–‡æ¡£

- [éƒ¨ç½²æŒ‡å—](DEPLOYMENT.md) - è¯¦ç»†çš„éƒ¨ç½²è¯´æ˜
- [ä½¿ç”¨ç¤ºä¾‹](USAGE.md) - å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹å’Œå®¢æˆ·ç«¯ä»£ç 

## ğŸ‰ æ€»ç»“

å‡çº§åçš„ Binance MCP æœåŠ¡å™¨ç°åœ¨æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€ç”Ÿäº§å°±ç»ªçš„æœåŠ¡ï¼Œæ”¯æŒï¼š

- **ç°ä»£ä¼ è¾“åè®®** (Streamable HTTP + SSE)
- **çµæ´»è®¤è¯æœºåˆ¶** (å¤šç§ token æ ¼å¼)
- **å¤šç”¨æˆ·æ”¯æŒ** (ä¼šè¯éš”ç¦»)
- **ç”Ÿäº§çº§éƒ¨ç½²** (Docker, PM2 ç­‰)
- **å®Œæ•´æ–‡æ¡£** (éƒ¨ç½²æŒ‡å—å’Œä½¿ç”¨ç¤ºä¾‹)

æœåŠ¡å™¨å·²å‡†å¤‡å¥½éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œä¾›å¤šä¸ªç”¨æˆ·åŒæ—¶ä½¿ç”¨ï¼
